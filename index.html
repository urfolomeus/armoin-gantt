<!doctype html>
<html lang="en" ng-app="ganttApp">
<head>
	<meta charset="utf-8">
	<title>Edinburgh Stories Schedule</title>

	<link rel="stylesheet" href="lib/gantt/dhtmlxgantt.css">

	<script src="lib/angular/angular.min.js"></script>
	<script src="lib/gantt/dhtmlxgantt.js"></script>

	<script src="js/app.js"></script>
	<script src="js/app.gantt.js"></script>
</head>
<body ng-controller="MainGanttCtrl">
	<h1>Edinburgh Stories</h1>

	<div data="tasks" dhx-gantt style="height:980px; width:100%;">
		<div gantt-template="task_text">
			{{task.duration}}
		</div>
	</div>		

	<script type="text/javascript">
		gantt.config.scale_unit = "month";
		gantt.config.date_scale = "%F, %Y";

		gantt.config.scale_height = 50;

		gantt.config.subscales = [
			{unit:"week", step:1, date:"%j, %D" }
		];

		gantt.config.columns = [
	    {name:"text", label:"Task name", width:"*", tree:true },
	    {name:"progress", label:"Status", template:function(obj){ return Math.round(obj.progress*100)+"%";}, align: "center", width:50 },
	    {name:"add", label:"", width:44 }
		];
		gantt.config.grid_width = 350;

		gantt.ignore_time = function(date){
			if(date.getDay() == 0 || date.getDay() == 6)
				return true;
			return false;
		};
	</script>
</body>
</html>